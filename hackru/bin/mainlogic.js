var canvas = document.getElementById("myCanvas");
var context = canvas.getContext("2d");

var colchange = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
var colsel="000000";
var ccx, ccy;

var LMouse=false, LMousep=false, RMouse=false, RMousep=false, mouse_x, mouse_y;

con=0;

function draw() {
	context.clearRect(0, 0, 1280, 720);
	
	
	
	//Write("words of a",200,50,.3);
	//ite("a nation",230,300,.3);

	closest();
	
	if (con>0) {con+=3;}
	
	if (colsel!="000000") {
		for (i=0;i<33;i++) {
			xdx=0;
			ydy=0;
			
			count=0;

			while (count<objs[i]) {
				xdx+=(heyy[i][0][count]);
				ydy+=(heyy[i][1][count]);
				
				count++;
			}
			
			xdx/=objs[i];
			ydy/=-objs[i];
			
			xdx+=400;
			ydy+=200;

			curdist=Math.abs(xdx-ccx)+Math.abs(ydy-ccy);
			
			
			
			if ((curdist-con)<10) {
				
				colchange[i]+=.03;
			} else {
				
			}
			
			if (Math.abs(curdist-con)<20) {
				DrawFr(i,400,200,"000000",((15-Math.abs(curdist-con))/80)+1,((15-Math.abs(curdist-con))/80)+1,0);
			} else {
				DrawFr(i,400,200,"000000",1,1,0);
			}
			
			if (colchange[i]>1) {colchange[i]=1;}
		}
	} else {
		for (i=0;i<33;i++) {
			colchange[i]-=.1;
			
			if (colchange[i]<0) {colchange[i]=0;}
		}
		
		for (var i=0; i<33; i++) {
			DrawFr(i,400,200,"000000",1,1,0);
		}
	}
	
	MousePrev();
	
	//DrawFr(10,400,200,"44CC44",1+(Math.sin(con)/5),1+(Math.sin(con)/5),0);
}
    
function addHexColor(c1, c2, amt) {
  var hexStr = (Math.round((parseInt(c1, 16)*(1-amt)) + (parseInt(c2, 16))*(amt))).toString(16);
  while (hexStr.length < 6) { hexStr = '0' + hexStr; } // Zero pad.
  return hexStr;
}

function closest() {
	lowestdist=1000;
	toppla = 1000;
	
	
	if (LMouse==true) {
		ccx=0;
		ccy=0;
		
		for (i=0;i<33;i++) {
			xdx=0;
			ydy=0;
			
			count=0;
	
			while (count<objs[i]) {
				xdx+=(heyy[i][0][count]);
				ydy+=(heyy[i][1][count]);
				
				count++;
			}
			
			xdx/=objs[i];
			ydy/=-objs[i];
			
			xdx+=400;
			ydy+=200;
			
			
			
			curdist=Math.abs(xdx-mouse_x)+Math.abs(ydy-mouse_y);
			
			if (curdist<lowestdist) {
				lowestdist=curdist;
				toppla=i;
				ccx=xdx;
				ccy=ydy;
			}
		}
		
		if (toppla!=1000) {
			colsel=cols[toppla];
			con=1;
		}
	}
}	
	
function DrawFr(numb, xpp, ypp, color, scalex, scaley, rot) {
    var count=0;
    var scx, scy, xpx=0, ypy=0, xdx=0, ydy=0;
    
    rot-=90;
    
    scx=Math.sin(rot/57.29);
    scy=Math.cos(rot/57.29);

    context.fillStyle = "#" + addHexColor(cols[numb],colsel,colchange[numb]);
    context.beginPath();

	count=0;
	
	while (count<objs[numb]) {
        xdx+=(heyy[numb][0][count]);
        ydy+=(heyy[numb][1][count]);
		
		count++;
    }
	
	xdx/=objs[numb];
	ydy/=objs[numb];
	
    count=0;
	
    xpx=((heyy[numb][0][0]-xdx)*scalex)+xdx+xpp;
    ypy=((heyy[numb][1][0]-ydy)*-scaley)-ydy+ypp;

    context.moveTo(xpx,ypy);
    
    while (count<objs[numb]) {
        count++;

		xpx=((heyy[numb][0][count]-xdx)*scalex)+xdx+xpp;
		ypy=((heyy[numb][1][count]-ydy)*-scaley)-ydy+ypp;

        context.lineTo(xpx,ypy);
    }
    
    context.closePath();
    context.fill();
}

function DrawNu(numb, xpp, ypp, color, scalex, scaley) {
    var count=0;
    var scx, scy, xpx=0, ypy=0, xdx=0, ydy=0;

    context.fillStyle = color;
    context.beginPath();
	
	count=0;
	
	while (count<numc[numb]) {
        xdx+=(nums[numb][0][count]);
        ydy+=(nums[numb][1][count]);
		
		count++;
    }
	
	xdx/=numc[numb];
	ydy/=numc[numb];
	
    count=0;
	
    xpx=((nums[numb][0][0]-xdx)*scalex)+xpp;
    ypy=((nums[numb][1][0]-ydy)*-scaley)+ypp;

    context.moveTo(xpx,ypy);
    
    while (count<numc[numb]) {
        count++;

		xpx=((nums[numb][0][count]-xdx)*scalex)+xpp;
		ypy=((nums[numb][1][count]-ydy)*-scaley)+ypp;

        context.lineTo(xpx,ypy);
    }
    
    context.closePath();
    context.fill();
}

function Write(s, x, y, size) {
	for (i=0; i<s.length; i++) {
		if (s.charCodeAt(i)!=32) {
			DrawNu(s.charCodeAt(i)-97,(i*(140*size))+x,y,"AA0000", size,size);
		}
	}
}

function MouseMove(event) {
    mouse_x = event.clientX - 8;
    mouse_y = event.clientY - 8;
}
function MouseDown(event) {
    if (event.button == 0) {
        LMouse = true;
    }
    if (event.button == 2) {
        RMouse = true;
    }
}
function MouseUp(event) {
    if (event.button == 0) {
        LMouse = false;
    }
    if (event.button == 2) {
        RMouse = false;
    }
}
function MousePrev() {
	LMousep=LMouse;
	RMousep=RMouse;
	mouse_xp=mouse_x;
	mouse_yp=mouse_y;
}

heyy = [[[-236,-214,-208,-208,-190,-172,-178,-202,-218,-272,-288,-282,-254,-246,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[56,54,44,58,72,84,92,82,94,94,76,60,56,46,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-226,-228,-242,-250,-242,-250,-260,-280,-280,-272,-262,-234,-210,-214,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[30,40,36,44,50,48,58,58,42,52,34,26,10,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-134,-158,-184,-202,-184,-126,-210,-256,-284,-278,-216,-188,-164,-150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[100,120,102,114,126,148,142,132,116,96,96,90,96,94,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-144,-166,-184,-186,-160,-146,-178,-202,-216,-204,-186,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-66,-32,-22,2,-2,6,24,20,-6,-30,-38,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-158,-138,-120,-114,-104,-146,-168,-194,-190,-204,-186,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-34,-62,-48,-24,-14,0,4,-8,-24,-30,-38,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[98,74,46,8,-10,-52,-64,-52,-16,32,76,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[22,18,60,60,72,62,34,6,34,36,0,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[36,34,8,-16,-38,-36,-60,-52,-22,0,4,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-22,34,44,36,44,26,24,6,10,0,-28,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[8,38,56,46,28,2,-60,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-64,-68,-46,-20,-30,-38,24,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[64,90,78,62,50,34,64,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-10,18,16,32,4,-20,-32,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[108,86,72,50,58,74,92,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[44,52,72,70,46,24,26,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[122,106,74,76,88,112,134,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[74,70,80,70,54,50,68,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-28,-22,-42,-46,-36,-38,132,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[70,82,88,84,80,68,76,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-26,-28,-14,-6,-14,-38,132,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[84,96,102,94,82,68,76,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[4,-12,-14,2,2,-38,132,-52,-22,0,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[88,94,102,104,94,68,76,6,10,0,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[26,34,144,306,248,260,194,156,116,56,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[112,126,152,124,110,86,100,92,112,84,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[32,34,22,18,248,260,194,156,48,24,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[78,90,92,76,110,86,100,92,68,78,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[12,0,-6,6,248,260,194,156,48,24,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[80,90,88,78,110,86,100,92,68,78,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[230,234,268,290,326,302,298,284,282,24,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-44,-76,-68,-86,-52,-22,-38,-34,-24,78,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[276,272,274,260,264,280,280,284,272,24,10,-182,-176,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[92,92,70,60,56,70,26,72,88,78,-54,-70,-100,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[216,220,194,152,142,158,204,224,240,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[102,90,80,94,76,56,50,40,48,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[180,164,150,132,144,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[44,36,12,48,66,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[142,134,116,128,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[66,74,52,44,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[108,72,122,154,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[106,94,72,94,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[202,156,186,222,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[98,98,82,90,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[38,22,50,68,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[84,74,72,80,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[8,14,34,28,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[104,92,98,110,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[4,16,16,8,114,164,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[94,84,94,104,48,54,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[10,6,22,16,-4,-12,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[108,120,124,136,124,106,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[-284,-256,-280,-290,-322,-316,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[136,136,116,120,110,124,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[226,250,244,-44,-322,-316,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,14,-8,6,110,124,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[202,216,246,214,196,-316,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[8,-10,-24,-16,6,124,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[192,208,216,200,182,-316,204,202,212,246,232,250,232,-158,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[50,42,20,28,38,124,50,22,26,58,74,90,104,-110,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
	[[220,230,218,222,212,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[40,22,12,22,40,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]];

objs = [13,13,13,13,8,10,5,5,6,6,6,5,4,4,9,4,3,8,5,12,6,3,3,3,3,3,3,5,5,2,4,4,4];

nums = [[[-10,10,18,64,34,-28,-78,-32,-18,12,10,-18,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[72,74,-28,-38,94,90,-26,-14,28,26,46,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[36,64,50,64,34,-28,-46,20,24,-10,-14,32,30,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-66,-44,8,58,94,90,-68,-62,-34,-34,10,0,28,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[80,60,14,-36,-30,38,84,12,14,-10,-14,20,10,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[38,58,70,20,-60,-96,-54,-34,6,-34,10,2,26,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[46,102,72,-6,-40,60,88,0,22,56,60,20,10,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-54,-2,54,62,-90,-90,-28,-62,22,2,-22,2,26,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[10,64,70,-10,-40,60,60,8,8,58,64,8,10,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[34,28,70,56,-90,-90,-64,-54,-24,-34,2,0,26,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[4,64,64,-34,-24,-8,10,8,8,64,64,8,10,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[34,28,84,60,-88,-84,-82,-54,-36,-32,2,-10,26,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[4,80,92,-22,-24,70,80,36,18,44,42,2,10,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[14,10,58,64,-88,-110,-24,-10,-28,-40,-66,-50,26,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[-30,8,4,44,44,76,78,78,44,42,4,0,-42,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-116,-100,-26,-40,-118,-104,-24,56,68,10,2,88,74,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[-2,2,-32,-44,10,64,52,22,22,62,58,-30,-30,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[38,-26,-32,-64,-60,-74,-30,-32,38,48,82,84,38,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[-54,-52,-14,16,0,-46,-66,-22,50,52,20,58,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[80,36,38,-14,-78,-52,-70,-116,-86,-10,44,42,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[-34,2,2,20,28,72,48,78,38,26,4,-4,-42,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-108,-100,-30,-34,-104,-114,-16,56,64,12,4,60,74,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[80,82,4,24,-20,-60,-56,0,-6,40,66,58,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-120,-56,-58,72,68,-126,-86,-116,2,-36,6,42,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[80,130,90,34,-20,-48,-56,0,-6,40,66,58,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-120,-108,74,30,68,50,-86,-116,2,-36,6,42,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[150,100,96,48,0,-2,42,42,90,142,66,58,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[52,42,-30,40,42,-128,-134,-20,-136,-146,6,42,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[124,102,54,92,32,6,46,114,156,170,86,48,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-22,-98,-108,28,8,-84,-158,-156,-116,26,44,26,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[106,116,68,86,32,24,90,66,152,152,30,30,80,-8,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,-40,-42,8,8,-158,-160,-82,-76,40,46,16,82,26,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[106,114,82,70,36,56,116,140,164,146,152,110,64,64,-8,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,-50,-54,46,16,-94,-88,-118,-104,-68,6,46,48,10,66,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[118,118,82,106,44,50,80,78,136,172,118,158,148,86,64,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[10,-26,-32,52,48,-124,-120,-58,-128,-106,-56,-36,30,50,8,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[98,54,38,124,116,20,-14,12,92,46,2,10,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[4,14,42,42,100,82,36,-6,-40,-52,-60,-110,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[96,94,126,144,70,14,24,56,50,104,2,10,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-72,58,54,96,100,94,54,58,-72,-104,-60,-110,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[140,136,100,88,62,60,22,8,42,104,2,10,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-72,80,74,-34,-24,80,68,-68,-94,-104,-60,-110,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[118,142,100,86,64,60,22,38,42,104,2,10,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-104,66,74,-40,-66,80,54,-116,-94,-104,-60,-110,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[118,142,100,92,74,56,44,0,34,80,2,10,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-104,66,74,-22,-4,-26,70,52,-98,-60,-60,-110,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[172,122,168,124,84,40,20,54,18,52,92,146,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-100,-18,66,92,14,86,62,-20,-104,-144,-68,-136,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[130,108,154,128,90,50,34,76,56,52,96,146,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-114,-32,50,72,8,74,46,-40,-116,-144,-110,-136,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],
[[154,80,126,132,42,42,114,50,38,170,96,146,104,126,130,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-26,28,28,60,74,26,-54,-70,-110,-100,-110,-136,-92,-60,-6,62,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]];
	
numc = [11,15,10,10,11,11,11,12,12,12,12,5,11,9,11,11,12,14,13,9,9,7,9,10,9,9];

cols = ["4444CC", "CC4444", "CC4444", "CCCC44", "44CC44", "CCCC44", "CC4444", "44CC44", "4444CC", "CCCC44", "44CC44", "44CC44", "4444CC", "CC4444", "CC4444", "4444CC", 
		"4444CC", "CCCC44", "44CC44", "CCCC44", "44CC44", "CC4444", "CCCC44", "44CC44", "44CC44", "CCCC44", "44CC44", "44CC44", "4444CC", "44CC44", "44CC44", "4444CC", "44CC44"];
	
var fps = 60;
setInterval(function () {
    draw();
}, 1000 / fps);

document.addEventListener("mousedown", MouseDown, false);
document.addEventListener("mouseup", MouseUp, false);
document.addEventListener("mousemove", MouseMove, false);